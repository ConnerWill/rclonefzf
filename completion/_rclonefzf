#compdef rclonefzf

_rclonefzf() {
  local -a opts main_actions

  main_actions=(
    'Browse rclone remotes:Browse files in rclone remotes using rclone'
    'View files:View file contents of files on rclone remote'
    'Download files:Download files from rclone remote to configured directory or to PWD'
    'Install config:Install example config file'
    'Show config:Show example config content'
    'Help:Show help / keybindings'
    'Exit:Quit'
  )

  opts=(
    '(-h --help)'{-h,--help}'[Show help (short or full)]'
    '--help-man[Show manpage help]'
    '(-k --keybindings)'{-k,--keybindings}'[Show keybindings]'
    '(-i --init-config)'{-i,--init-config}'[Install example configuration file]'
    '(-s --show-config)'{-s,--show-config}'[Show example configuration file content]'
    '(-V --version)'{-V,--version}'[Show version]'
    '(-v --verbose)'{-v,--verbose}'[Show verbose output]'
  )

  # No positional arguments anymore â†’ only options or nothing
  _arguments -C \
    "${opts[@]}" \
    '*: :( )'   # explicitly say no more arguments after options
}

_rclonefzf "${@}"

#vim:filetype=zsh:shiftwidth=2:softtabstop=2:expandtab
